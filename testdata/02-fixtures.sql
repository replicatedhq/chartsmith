/* Auto generated file. Do not edit by hand. This file was generated by SchemaHero. */

create table "artifacthub_chart" ("id" text not null, "name" text not null, "version" text not null, "content_url" text not null, "repository" text not null, "created_at" timestamp not null default 'now()', "available" boolean not null default 'true', "verified" boolean not null default 'false', primary key ("id"));
create table "artifacthub_meta" ("key" text not null, "value" text not null, primary key ("key"));
create table "bootstrap_chart" ("id" text not null, "workspace_id" text not null, "name" text not null);
create table "bootstrap_file" ("id" text not null, "chart_id" text, "workspace_id" text not null, "file_path" text not null, "content" text not null, "embeddings" vector (1024), primary key ("id"));
create table "bootstrap_meta" ("key" text not null, "value" text not null, "workspace_id" text not null, primary key ("key", "workspace_id"));
create table "bootstrap_revision" ("workspace_id" text not null, "revision_number" integer not null, "is_complete" boolean not null, primary key ("workspace_id", "revision_number"));
create table "bootstrap_workspace" ("id" text not null, "name" text not null, "current_revision" integer not null default '0', primary key ("id"));
create table "chartsmith_user_setting" ("user_id" text not null, "key" text not null, "value" text, primary key ("user_id", "key"));
create table "chartsmith_user" ("id" text not null, "email" text not null, "name" text not null, "image_url" text not null, "created_at" timestamp not null, "last_login_at" timestamp, "last_active_at" timestamp, "replicated_token" text, "is_admin" boolean not null default 'false', primary key ("id"), constraint "idx_chartsmith_user_email" unique ("email"));
create table "extension_token" ("id" text not null, "token" text not null, "user_id" text not null, "created_at" timestamp not null, "last_used_at" timestamp, primary key ("id"));
create table "notification_processing" ("notification_channel" text not null, "notification_id" text not null, "claimed_at" timestamp not null, "claimed_by" text not null, "processed_at" timestamp, "error" text, primary key ("notification_channel", "notification_id"));
create table "realtime_replay" ("id" text not null, "created_at" timestamp, "user_id" text not null, "channel_name" text not null, "message_data" jsonb, primary key ("id"));
create table "session" ("id" text not null, "user_id" text not null, "expires_at" timestamp not null, primary key ("id"));
create table "slack_notification" ("id" text not null, "created_at" timestamp not null, "user_id" text, "workspace_id" text, "notification_type" text not null, "additional_data" text, primary key ("id"));
create table "str_replace_log" ("id" text not null, "created_at" timestamp without time zone not null, "file_path" text not null, "found" boolean not null, "old_str" text not null, "new_str" text not null, "updated_content" text not null, "old_str_len" integer not null, "new_str_len" integer not null, "context_before" text, "context_after" text, "error_message" text, primary key ("id"));
create table "content_cache" ("content_sha256" text not null, "embeddings" vector (1024) not null, primary key ("content_sha256"));
create table "waitlist" ("id" text not null, "email" text not null, "name" text not null, "image_url" text not null, "created_at" timestamp not null, "last_login_at" timestamp, "last_active_at" timestamp, "replicated_token" text, primary key ("id"), constraint "idx_waitlist_email" unique ("email"));
create table "work_queue" ("id" text not null, "channel" text not null, "payload" jsonb, "created_at" timestamp not null, "completed_at" timestamp, "processing_started_at" timestamp, "attempt_count" integer, "last_error" text, primary key ("id"), constraint "idx_work_queue_channel_created_at" unique ("channel", "created_at"));
create table "workspace_chart" ("id" text not null, "workspace_id" text not null, "name" text not null, "revision_number" integer not null);
create table "workspace_chat" ("id" text not null, "workspace_id" text not null, "revision_number" integer not null, "created_at" timestamp not null, "sent_by" text not null, "prompt" text not null, "response" text, "response_plan_id" text, "response_render_id" text, "response_conversion_id" text, "is_intent_complete" boolean not null default 'false', "is_intent_conversational" boolean, "is_intent_plan" boolean, "is_intent_off_topic" boolean, "is_intent_chart_developer" boolean, "is_intent_chart_operator" boolean, "is_intent_proceed" boolean, "is_intent_render" boolean, "is_canceled" boolean not null default 'false', "followup_actions" jsonb, "response_rollback_to_revision_number" integer, "message_from_persona" text, primary key ("id"));
create table "workspace_conversion_file" ("id" text not null, "conversion_id" text not null, "file_path" text, "file_content" text, "file_status" text not null, "converted_files" jsonb, primary key ("id"));
create table "workspace_conversion" ("id" text not null, "workspace_id" text not null, "chat_message_ids" text[], "created_at" timestamp not null, "updated_at" timestamp not null, "source_type" text not null, "status" text not null, "chart_yaml" text, "values_yaml" text, primary key ("id"));
create table "workspace_file" ("id" text not null, "revision_number" integer null, "chart_id" text, "workspace_id" text not null, "file_path" text not null, "content" text not null, "content_pending" text, "embeddings" vector (1024), primary key ("id", "revision_number"));
create table "workspace_plan_action_file" ("plan_id" text not null, "path" text not null, "action" text not null, "status" text not null, "created_at" timestamp not null, primary key ("plan_id", "path"));
create table "workspace_plan" ("id" text not null, "workspace_id" text not null, "chat_message_ids" text[], "created_at" timestamp not null, "updated_at" timestamp not null, "version" integer, "status" text not null, "description" text, "charts_affected" text[], "files_affected" text[], "proceed_at" timestamp, primary key ("id"));
create table "workspace_publish" ("workspace_id" text not null, "revision_number" integer not null, "chart_name" text not null, "chart_version" text not null, "status" text not null, "processing_started_at" timestamp, "completed_at" timestamp, "error_message" text, "created_at" timestamp not null, primary key ("workspace_id", "revision_number", "chart_name", "chart_version"));
create table "workspace_rendered_chart" ("id" text not null, "workspace_render_id" text not null, "chart_id" text not null, "is_success" boolean not null, "dep_update_command" text, "dep_update_stdout" text, "dep_update_stderr" text, "helm_template_command" text, "helm_template_stdout" text, "helm_template_stderr" text, "created_at" timestamp not null, "completed_at" timestamp, primary key ("id"));
create table "workspace_rendered_file" ("file_id" text not null, "workspace_id" text not null, "revision_number" integer not null, "file_path" text not null, "content" text not null, primary key ("file_id", "workspace_id", "revision_number"));
create table "workspace_rendered" ("id" text not null, "workspace_id" text not null, "revision_number" integer not null, "created_at" timestamp not null, "completed_at" timestamp, "is_autorender" boolean not null default 'false', "error_message" text, primary key ("id"));
create table "workspace_revision" ("workspace_id" text not null, "revision_number" integer not null, "created_at" timestamp not null, "plan_id" text, "created_by_user_id" text not null, "created_type" text not null, "is_rendered" boolean not null default 'false', "is_complete" boolean not null, primary key ("workspace_id", "revision_number"));
create table "workspace" ("id" text not null, "created_at" timestamp not null, "last_updated_at" timestamp, "name" text not null, "created_by_user_id" text not null, "created_type" text not null, "current_revision_number" integer not null, primary key ("id"));

